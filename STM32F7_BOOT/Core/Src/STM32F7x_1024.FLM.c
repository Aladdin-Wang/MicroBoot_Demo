#include "flash_algo.h"

static const uint32_t STM32F7x_1024_prog_blob[] = 
{
    0XE00ABE00,0X062D780D,0X24084068,0XD3000040,0X1E644058,0X1C49D1FA,0X2A001E52,0X4770D1F2,
    0X8F4FF3BF,0X02C04770,0X28400DC0,0X0980D302,0X47701D00,0XD3022820,0X1CC00940,0X08C04770,
    0X48494770,0X60414947,0X60414948,0X60012100,0X22F068C1,0X60C14311,0X06806940,0X4845D406,
    0X60014943,0X60412106,0X60814943,0X47702000,0X6901483D,0X43110542,0X20006101,0XB5104770,
    0X69014839,0X43212404,0X69016101,0X431103A2,0X493A6101,0XE0004A37,0X68C36011,0XD4FB03DB,
    0X43A16901,0X20006101,0XB530BD10,0XFFBBF7FF,0X68CA492D,0X431A23F0,0X240260CA,0X690A610C,
    0X0E0006C0,0X610A4302,0X03E26908,0X61084310,0X8F4FF3BF,0X4A274829,0X6010E000,0X03ED68CD,
    0X6908D4FB,0X610843A0,0X060068C8,0XD0030F00,0X431868C8,0X200160C8,0XB5F0BD30,0X1CC94C1A,
    0X68E50889,0X23F00089,0X60E5431D,0X61232300,0X06FF2701,0XE0214D19,0X4E196923,0X61234333,
    0X0AF602C6,0X681319F6,0XF3BF6033,0X4E118F4F,0X6035E000,0X03DB68E3,0X6923D4FB,0X005B085B,
    0X68E36123,0X0F1B061B,0X68E0D005,0X430821F0,0X200160E0,0X1D00BDF0,0X1D121F09,0XD1DB2900,
    0XBDF02000,0X45670123,0X40023C00,0XCDEF89AB,0X00005555,0X40003000,0X00000FFF,0X0000AAAA,
    0X00000201,0X00000000,
};

static const uint32_t STM32F7x_1024_flash_dev[] = 
{
    0X54530101,0X4632334D,0X31207837,0X4620424D,0X6873616C,0X00000000,0X00000000,0X00000000,
    0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,
    0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,
    0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,0X00000000,
    0X00010000,0X08000000,0X00100000,0X00000400,0X00000000,0X000000FF,0X000003E8,0X00001770,
    0X00008000,0X00000000,0X00020000,0X00020000,0X00040000,0X00040000,0XFFFFFFFF,0XFFFFFFFF,
};

const flash_algo_t onchip_flash_device =
{
    .tFlashops.Init = (void*)&STM32F7x_1024_prog_blob[0X43],  // Init
    .tFlashops.UnInit = (void*)&STM32F7x_1024_prog_blob[0X71],  // UnInit
    .tFlashops.EraseChip = (void*)&STM32F7x_1024_prog_blob[0X7F],  // EraseChip
    .tFlashops.EraseSector = (void*)&STM32F7x_1024_prog_blob[0XAB],  // EraseSector
    .tFlashops.Program = (void*)&STM32F7x_1024_prog_blob[0XFB],  // ProgramPage
    .ptFlashDev = (flash_dev_t const *)STM32F7x_1024_flash_dev // 
};
